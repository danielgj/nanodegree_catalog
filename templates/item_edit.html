{% extends "main.html" %}
{% block content %}
<div class="row">
  <div class="col-lg-12 col-md-12">
    <h1>Edit item</h1>
    <form action="#" method="post" onsubmit="return validate();">
				<div class="form-group">
					<label for="title">Title:</label>
					<input type ="text" maxlength="50" class="form-control" name="title" value="{{item.title}}" placeholder="Title of the item">

					<label for="description">Description:</label>
					<textarea class="form-control" maxlength="250" rows="3" name="description" placeholder="Description of the item">{{item.description}}</textarea>

					<label for="category">Category:</label>
					<select class="form-control" name="category">
              {% for category in categories %}
                {% if item.category_id == category.id %}
                  <option value="{{ category.id }}" selected>{{ category.name }}</option>
                {% else %}
                  <option value="{{ category.id }}">{{ category.name }}</option>
                {% endif %}
              {% endfor %}   
          </select>					
          <br/>
					<button type="submit" class="btn btn-primary" id="submit">Save</button>
				</div>
			</form>
  </div>
</div>
<script>
    function validate() {
      var enteredTitle = document.querySelector('input[name="title"]').value;
      var enteredDescription = document.querySelector('textarea[name="description"]').value;
      var errorMsg = "";
      if(enteredTitle === "")
        errorMsg += "Please, enter the title of the item. "
      if(enteredDescription === "")
        errorMsg += "Please, enter the description of the item. "
      if(errorMsg != "") {
        alert(errorMsg);
        return false;
      } else {
        return true;
      }		
    }
</script>
  
{% endblock %}